ゲーム仕様書（rev.1.1 2023/09/04）

１．Excective Summary
　AIを搭載した人対ＰＣのリバーシである。特徴として、両面黒または両面白のコマが存在し、そのコマは
　ひっくりかえせない（ひっくりかえしても同色）。
　その結果、そのコマを含む縦横斜めの列は、コマを打ったマス目から特殊コマの手前までしか反転しない。
　（コマの反転をイベントのプロパゲーションとみなし、それをインターセプトするイメージ：Stateパターンの適用候補？）
　特殊コマは、盤面上は他のコマと区別がつかないので、プレーヤーは挟まれたコマの挙動から位置を把握し、
　記憶する必要がある。（神経衰弱要素）一般的なリバーシとは、異なる思考が求められる。（多分）

２．ゲーム要素
　２．１ 盤面
　　リバーシ(オセロタイプ)の国際ルールに従い８×８マスを基本とする。（増減できるように開発する）

　２．２ 通常コマ
　　一面が黒、もう一面が白の薄い円筒形。盤面のマス目よりやや小さい。
　　盤面に配置すると厚みの半分が盤面に沈み、次で説明する特殊コマと区別がつかない。
　　初期配置の４コマは通常コマとする。

　２．３ 特殊コマ（AIも使える。設定で初期保持数を変更できる）
　　両面が黒あるいは白のコマ。通常コマ同様に盤面に配置すると厚みの半分が盤面に沈み、
　　通常コマと区別がつかない。

　２．４ その他アイテム
　（１）ちょっと待ったカード（よく見かける）
　（２）目つぶし（相手にパスを強要できる） etc.
　※ゲームをつまらなくする可能性があるので実装しながらもっと考える

３．ゲームルール
　３．１ 基本ルール
　　一般的なオセロと同様。

　３．２ 追加ルール
　　特殊コマ採用時は、以下のルールを
　（１）特殊コマは挟まれても反転しない。（反転しても裏も同一色）
　（２）特殊コマを含む列は打点より特殊コマに近い部分のみ反転する。

　３．３ ゲームの終了
　　双方がコマを打てなくなったらゲーム終了。

　３．４ ゲームの勝敗
　　ゲーム終了時点で自分の色のコマが多い方が勝ち。

５．UI
　５．１ ゲーム開始画面（含むゲーム設定選択）
　（１）AIレベル設定
　（２）黒（先手）/白（後手）の選択
　（３）特殊コマオン/オフ（通常のリバーシとしても遊べること）
　（４）Startボタン
　（５）ゲーム終了ボタン
　（６）効果音・BGMの設定（オフ/オン, ボリューム）
　（７）バッジリストが見えていること
　（８）アイテムリスト（ちょっと待ったカードなど）が見えていること

　５．２ インゲーム画面
　　５．２．1 盤面（優先順位：高）
　　（１）コマ選択：特殊コマを持っていれば操作でき、次に打つコマを特殊コマに変更する or 通常コマに戻す（トグル）
　　　　　⇒特殊コマはアイテム化し、操作をアイテムリスト上で行う？
　　（２）コマ配置：盤面のマウスクリックしたマス目にコマを置くことができる。
　　（３）コマ反転：新たに打ったコマで、縦横斜めに相手コマを挟んだ場合、相手のコマを反転（裏返す）できる。
　　　　　　　　ただし、挟んだ相手コマに特殊コマが含まれる場合は、ゲームルールの章に示した挙動とする。
　　　　　　　　コマ反転は、コマ打ち込みの一呼吸（0.5秒？）後に自動で発生する。
　　（４）パス：コマを打たずにターンを終了する。打てる場所がないときにパスダイアログがポップアップする。

　　５．２．２ バッジリスト（優先順位：中）
　　　獲得可能なバッジをすべて表示する。獲得したバッジは通常表示。未獲得分はグレイ表示。画面左端。スクロールあり。

　　５．２．３ アイテムリスト（優先順位：低）
　　　獲得したアイテムと個数を表示する。画面右端。（暫定）

　５．３ 勝敗表示（含むスコア）
　　　両者パスとなった局面で表示する。表示項目は以下。
　　（１）ゲームが終了したことが分かる項目。
　　（２）黒および白の最終コマ数。
　　（３）「OK」ボタン：ゲーム開始画面にもどる。

　５．４ バッジ(Observerパターン適用の候補)
　　（１）表示：バッジ表示エリアに獲得分を表示する。
　　（２）付与表示：バッジは、付与条件を達成したタイミングでポップアップ表示する。（決勝後かもしれない）
　　（３）付与条件：初勝利、１０回勝利などアニバーサリー系、相手にパスをさせた、全取り、全取られなどのパターン系、。
　　（４）アイテム付与：バッジ付与と同時にアイテムが付与されることがある。付与されたアイテムは、次のターンから使用可能である。
　　　　　　　　　　　アイテム取得を考慮した打ち方を可能とする。
　５．５ 中断・再開

６．効果音・BGM
　６．１ 打音
　　コマを打ったらクリック音がなる。

　６．２ オープニングBGM
　　リバーシっぽいBGMがなる。

　６．３ 決勝後BGM
　　勝敗表示中になる。勝敗に関係しない。

７．AI
　※以下の項目を検討する必要があると思うが、プロトで詳細検討する。
　６．１ 場面評価関数
　６．２ 先読みレベル変更
　６．３ 思考時間の制約
