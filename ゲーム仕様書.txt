ゲーム仕様書（rev.1.1 2023/09/04）

１．Excective Summary
　AIを搭載した人対ＰＣのリバーシである。特徴として、両面黒または両面白の駒が存在し、その駒は
　ひっくりかえせない（ひっくりかえしても同色）。
　その結果、その駒を含む縦横斜めの列は、駒を打ったマス目から特殊駒の手前までしか反転しない。
　（駒の反転をイベントのプロパゲーションとみなし、それをインターセプトするイメージ：Stateパターンの適用候補？）
　特殊駒は、盤面上は他の駒と区別がつかないので、プレーヤーは挟まれた駒の挙動から位置を把握し、
　記憶する必要がある。（神経衰弱要素）一般的なリバーシとは、異なる思考が求められる。（多分）

２．ゲーム要素
　２．１ 盤面
　　リバーシの国際ルールに従い８×８マスを基本とする。（増減できるように開発する）

　２．２ 通常駒
　　一面が黒、もう一面が白の薄い円筒形。盤面のマス目よりやや小さい。
　　盤面に配置すると厚みの半分が盤面に沈み、次で説明する特殊駒と区別がつかない。

　２．３ 特殊駒（AIも使える。設定で初期保持数を変更できる）
　　両面が黒あるいは白の駒。通常駒同様に盤面に配置すると厚みの半分が盤面に沈み、
　　通常駒と区別がつかない。

　２．４ その他アイテム
　（１）ちょっと待ったカード（よく見かける）
　（２）目つぶし（相手にパスを強要できる） etc.
　※ゲームをつまらなくする可能性があるので実装しながらもっと考える

３．ゲームルール
　３．１ 基本ルール
　　一般的なリバーシと同様。

　３．２ 追加ルール
　　特殊駒採用時は、以下のルールを
　（１）特殊駒は挟まれても反転しない。（反転しても裏も同一色）
　（２）特殊駒を含む列は打点より特殊駒に近い部分のみ反転する。

　３．３ ゲームの終了
　　双方が駒を打てなくなったらゲーム終了。

　３．４ ゲームの勝敗
　　ゲーム終了時点で自分の色の駒が多い方が勝ち。

５．UI
　５．１ ゲーム開始画面（含むゲーム設定選択）
　（１）AIレベル設定
　（２）黒（先手）/白（後手）の選択
　（３）特殊駒オン/オフ（通常のリバーシとしても遊べること）
　（４）Startボタン
　（５）ゲーム終了ボタン
　（６）効果音・BGMの設定（オフ/オン, ボリューム）
　（７）持ち物リスト（ちょっと待ったカードなど）

　５．２ インゲーム画面
　　５．２．1 盤面（優先順位：高）
　　（１）駒選択：特殊駒を持っていれば操作でき、次に打つ駒を特殊駒に変更する or 通常駒に戻す（トグル）
　　（２）駒配置：盤面のマウスクリックしたマス目に駒を置くことができる。
　　（３）駒反転：新たに打った駒で、縦横斜めに相手駒を挟んだ場合、相手の駒を反転（裏返す）できる。
　　　　　　　　ただし、挟んだ相手駒に特殊駒が含まれる場合は、ゲームルールの章に示した挙動とする。
　　　　　　　　駒反転は、駒打ち込みの一呼吸（0.5秒？）後に自動で発生する。

　　５．２．２ バッジ表示エリア（優先順位：中）
　　　獲得可能なバッジをすべて表示する。獲得したバッジは通常表示。未獲得分はグレイ表示。画面左端。スクロールあり。

　　５．２．３ アイテム表示エリア（優先順位：低）
　　　獲得したアイテムと個数を表示する。画面右端。（暫定）

　５．３ 勝敗表示（含むスコア）
　　　両者パスとなった局面で表示する。表示項目は以下。
　　（１）ゲームが終了したことが分かる項目。
　　（２）黒および白の最終駒数。
　　（３）「OK」ボタン：ゲーム開始画面にもどる。

　５．４ バッジ(Observerパターン適用の候補)
　　（１）表示：バッジ表示エリアに獲得分を表示する。
　　（２）付与表示：バッジは、付与条件を達成したタイミングでポップアップ表示する。（決勝後かもしれない）
　　（３）付与条件：初勝利、１０回勝利などアニバーサリー系、相手にパスをさせた、全取り、全取られなどのパターン系、。
　　（４）アイテム付与：バッジ付与と同時にアイテムが付与されることがある。付与されたアイテムは、次のターンから使用可能である。
　　　　　　　　　　　アイテム取得を考慮した打ち方を可能とする。
　５．５ 中断・再開

６．効果音・BGM
　６．１ 打音
　　駒を打ったらクリック音がなる。

　６．２ オープニングBGM
　　リバーシっぽいBGMがなる。

　６．３ 決勝後BGM
　　勝敗表示中になる。勝敗に関係しない。

７．AI
　※以下の項目を検討する必要があると思うが、プロトで詳細検討する。
　６．１ 場面評価関数
　６．２ 先読みレベル変更
　６．３ 思考時間の制約
